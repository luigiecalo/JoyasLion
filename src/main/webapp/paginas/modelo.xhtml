<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:b="http://bootsfaces.net/ui"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:p="http://primefaces.org/ui">

    <ui:composition>

        <span class=""></span>
        <b:panel id="consulta" collapsible="false" rendered="#{!controlModelos.registrar}">


            <div class="row">
                <h:panelGroup    >
                    <div id="barraup" class="col-xs-12 col-md-12 " style="z-index:2" >
                        <div  class="box">

                            <div  class="box-body">

                                <b:commandButton value="Registro" 
                                                 rendered="#{controlModelos.butompermisos(controlSeccion.rol.idrol,controlplantillas.moduloSelecionado,'E')}" 
                                                 title="REGISTRAR NUEVO MODELO"   
                                                 styleClass=" btn-btn-app btn-danger"  iconAwesome="thumbs-up"
                                                 look="info"
                                                 actionListener="#{controlModelos.registroModulo()}"
                                                 size="sm" >
                                    <i class="fa fa-plus"></i>
                                    <f:param name="username" value="JSF 2.0 User" />
                                </b:commandButton>

                                <b:commandButton value="Consultar" 
                                                 style="padding-left:20px"
                                                 styleClass="btn-app"
                                                 look="success"
                                                 size="sm"
                                                 ajax="true"
                                                 actionListener="#{controlModelos.listarModelos()}" >
                                    <i class="fa fa-search"></i>
                                </b:commandButton>

                            </div>
                            <!-- /.box-body -->
                        </div>
                    </div>
                </h:panelGroup>

                <div  class="col-md-12 col-xs-12 row">
                    <div  class="col-md-12">

                        <p:dataTable id="tbmiembros" var="Modelo" value="#{controlModelos.modelos}">
                            <f:facet name="header">
                                Lista de Modelos
                            </f:facet>
                            <p:column headerText="CODIGO">
                                <h:outputText value="#{Modelo.codigo}" />
                            </p:column>
                            <p:column headerText="PESO CIRCONCES">
                                <h:outputText value="#{Modelo.peso_circones}" />
                            </p:column>
                            <p:column headerText="PESO MODELO">
                                <h:outputText value="#{Modelo.peso_modelo}" />
                            </p:column>
                            <p:column headerText="TIPO">
                                <h:outputText value="#{Modelo.tipo_modelo.nombre}" />
                            </p:column>
                            <p:column style="text-align: center">

                                <p:commandButton   icon="ui-icon-search" title="View" actionListener="#{controlModelos.enviarselecionado(Modelo)}" update=":form:tab">

                                </p:commandButton>
                            </p:column>
                        </p:dataTable>
                    </div>
                </div>


            </div> 



        </b:panel>

        <b:panel id="registro" collapsible="false" rendered="#{controlModelos.registrar}">

            <div class="row">

                <h:panelGroup >
                    <div id="barraup" class="col-xs-12 col-md-12 " style="z-index:2" >
                        <div  class="box">

                            <div  class="box-body">
                                <b:buttonGroup>
                                    <b:commandButton value="CONSULTAR"  process="@this" styleClass=" btn bg-red" actionListener="#{controlModelos.consultaModulo()}" update="tab" size="xs" >
                                        <i class="fa fa-search"></i>
                                    </b:commandButton>

                                </b:buttonGroup>
                            </div>
                            <!-- /.box-body -->
                        </div>
                    </div>
                </h:panelGroup>
            </div>
            <div  class="col-md-12 col-xs-12">
                <!--<h3></h3>-->
                <p:panel id="panel" header="Datos del usuario">
                    <b:growl id="growlMsg" globalOnly="true" placementFrom="top"
                             show-detail="true" show-summary="false" allowDismiss="true"
                             delay="10000" escape="true" /> 
                    <div class="ui-g">
                        <div class="ui-g-12 ui-md-12 ui-lg-3" >
                            <div class="box-body box-profile">
                                <img class="profile-user-img img-responsive img-circle" style="width:60%" src="imagenes/modelos/default.png" alt="User profile picture"/>
                            </div>
                        </div>
                        <div class="ui-g-12 ui-md-6 ui-lg-2 ui-g-nopad" >
                            <div class="ui-g-12 ui-md-6 ui-lg-12"  >
                                <b:selectOneMenu   class="form-control select2"  value="#{controlModelos.tiposModelolSelect}" title="Asigne almenos un ROL" style="margin:0 auto">
                                    <f:selectItem  itemLabel="Selecione un Tipo" itemValue="" />
                                    <f:selectItems value="#{controlModelos.tiposModeloLista}" />
                                </b:selectOneMenu>
                            </div>

                            <div class="ui-g-12 ui-lg-12" >
                                <b:inputText 
                                    value="#{controlModelos.modeloSelecionado.peso_modelo}"
                                    renderLabel="true"
                                    label="Peso De Modelos"
                                    >
                                    <f:facet name="prepend">
                                        KG
                                    </f:facet>
                                </b:inputText>
                            </div>
                            <div class="ui-g-12 ui-lg-12" >
                                <b:inputText 
                                    value="#{controlModelos.modeloSelecionado.peso_modelo}"
                                    renderLabel="true"

                                    label="Peso De Modelos"
                                    >
                                    <f:facet name="prepend">
                                        <i class="fa fa-user-circle-o" aria-hidden="true"></i>
                                    </f:facet>
                                </b:inputText>
                            </div>

                        </div>
                        <div class="ui-g-12 ui-md-6 ui-lg-2 ui-g-nopad" >
                            <div class="ui-g-12 ui-md-6 ui-lg-11"  >
                                <b:selectOneMenu  class="form-control select2"  value="#{controlModelos.circoneSelect}" title="Asigne almenos un ROL" style="margin:0 auto">
                                    <f:selectItem  itemLabel="Selecione un Circon" itemValue="" />
                                    <f:selectItems value="#{controlModelos.circonesLista}" />
                                </b:selectOneMenu>
                            </div>
                            <div class="ui-g-12 ui-md-12 ui-lg-1" style="margin: 0 auto" >
                                <b:commandButton value=""  style="margin:0 auto"  process="@this" actionListener="#{controlModelos.agregarCircon()}"  styleClass=" btn  bg-#{controlSeccion.skins}-gradient"  size="lg" >
                                    <i class="fa fa-plus"></i>
                                </b:commandButton>
                            </div>

                            <div class="ui-g-12 ui-lg-12 ui-g-nopad"  >
                                <p:orderList value="#{controlModelos.circonesSelect}" var="circones" controlsLocation="none" itemLabel="#{circones.codigo}" itemValue="#{circones.id}" />
                            </div>
                      

                        </div>


                    </div>
                </p:panel>
            </div>


        </b:panel>
        <p:messages autoUpdate="false"/>







        <script type="text/javascript">
            var nav = $('#barraup');

            if (nav.length != 0) {
                var height = $("#navpricipal").height();
                var navHomeY = nav.offset().top - height;
                var isFixed = false;

                $(document).scroll(function () {



                    var $w = $(window);
                    var scrollTop = $w.scrollTop();
                    var shouldBeFixed = scrollTop > navHomeY;
                    if (shouldBeFixed) {
                        if (!isFixed) {
                            nav.css({
                                position: 'fixed',
                                top: height,
                            });
                            $('#barraup').load();
                            isFixed = true;
                        }
                    } else if (isFixed)
                    {
                        nav.css({
                            position: 'static'
                        });
                        isFixed = false;
                    }

                });
            }
            $('.ir-arriba').click(function () {
                $('body, html').animate({
                    scrollTop: '0px'
                }, 300);
            });

            $(window).scroll(function () {
                if ($(this).scrollTop() > 0) {
                    $('.ir-arriba').slideDown(300);
                } else {
                    $('.ir-arriba').slideUp(300);
                }
            });


        </script>





    </ui:composition>

</html>