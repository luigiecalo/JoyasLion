<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:b="http://bootsfaces.net/ui"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:p="http://primefaces.org/ui">

    <ui:composition>

        <span class=""></span>
        <div class="row">

            <h:panelGroup >
                <div id="barraup" class="col-xs-12 col-md-12 " style="z-index:2" >
                    <div  class="box">

                        <div  class="box-body">
                            <b:buttonGroup id="botomgrup">


                                <b:commandButton value="Guardar Cambios" rendered="#{controlModulos.modelosboolean}"
                                                 look="warning"    update=":form:tab"
                                                 size="sm"   >
                                    <i class="fa fa-plus-circle"></i>

                                </b:commandButton>
                                <b:commandButton value="Cancelar Cambios" rendered="#{controlModulos.modelosboolean}"
                                                 look="primary"   update=":form:tab" 
                                                 size="sm"  tooltip-position="bottom" >
                                </b:commandButton>


                            </b:buttonGroup>
                        </div>


                        <!-- /.box-body -->
                    </div>
                </div>
            </h:panelGroup>
        </div>
        <div class="row">
            <div class="col-xs-12 col-md-12 col-lg-3" >
                <label  class="bf-no-message">Selecione Rol:

                </label>
                <h:selectOneMenu  label="" id="piedraCselect"  class="form-control select2"  value="#{controlRoles.rolselection}"  style="margin:0 auto;height:34px">
                    <p:ajax   listener="#{controlRoles.onRolSelect}" update=":form:tab"  />
                    <f:selectItem  itemLabel="Selecione una Piedra" itemValue="" />
                    <f:selectItems value="#{controlRoles.rolesLista}" />
                </h:selectOneMenu>
                <p:dataTable id="modulos" var="modu"  selectionMode="single" rowKey="#{modu.idmodulo}" selection="#{controlRoles.mdoSelect}" value="#{controlRoles.modulos}" >
                    <f:facet name="header">
                        Modulos disponibles
                    </f:facet>
                    <p:ajax event="rowSelect"  update=":form:modselect" />
                    <p:column headerText="Modulo">
                        <i class="fa #{modu.icono} "></i> <h:outputText value="  #{modu.nombre}" />
                    </p:column>
                </p:dataTable>
            </div>

            <div class="col-md-4">
                <b:commandButton  id="modselect" value=""  actionListener="#{controlRoles.addModulo}"
                                  look="success"    
                                  size="xs"  tooltip="Tiene el Modulo (#{controlRoles.mdoSelect.nombre}) para Agregar" tooltip-position="bottom" >
                    <i class="fa fa-plus-circle"></i>
                    <span class="label">#{controlRoles.mdoSelect.nombre}</span>
                </b:commandButton>
                <p:panelGrid style="margin-top:20px">
                    <f:facet name="header">
                        <p:row>
                            <p:column colspan="7">1995-96 NBA Playoffs</p:column>
                        </p:row>
                        <p:row>
                            <p:column colspan="2">Conf. Semifinals</p:column>
                            <p:column colspan="2">Conf. Finals</p:column>
                            <p:column colspan="2">NBA Finals</p:column>
                            <p:column>Champion</p:column>
                        </p:row>

                    </f:facet>

                    <p:row>
                        <p:column style="font-weight: bold;">Modulo</p:column>
                        <p:column style="font-weight: bold;">4</p:column>

                        <p:column rowspan="2" style="font-weight: bold;">Seattle</p:column>
                        <p:column rowspan="2" style="font-weight: bold;">#{controlRoles.mdoSelect.nombre}</p:column>

                        <p:column rowspan="5">Seattle</p:column>
                        <p:column rowspan="5">2</p:column>

                        <p:column rowspan="11" style="font-weight: bold;">Chicago</p:column>
                    </p:row>

                    <p:row>
                        <p:column>Permisos</p:column>
                        <p:column >
                        
                        </p:column>
                    </p:row>

                    <p:row>
                        <p:column colspan="4" styleClass="ui-widget-header">
                            <p:spacer height="0"/>
                        </p:column>
                    </p:row>

                    <p:row>
                        <p:column style="font-weight: bold;">Utah</p:column>
                        <p:column style="font-weight: bold;">4</p:column>

                        <p:column rowspan="2">Utah</p:column>
                        <p:column rowspan="2">3</p:column>
                    </p:row>

                    <p:row>
                        <p:column>San Antonio</p:column>
                        <p:column >2</p:column>
                    </p:row>

                    <p:row>
                        <p:column colspan="6" styleClass="ui-widget-header">
                            <p:spacer height="0"/>
                        </p:column>
                    </p:row>

                    <p:row>
                        <p:column style="font-weight: bold;">Chicago</p:column>
                        <p:column style="font-weight: bold;">4</p:column>

                        <p:column rowspan="2" style="font-weight: bold;">Chicago</p:column>
                        <p:column rowspan="2" style="font-weight: bold;">4</p:column>

                        <p:column rowspan="5" style="font-weight: bold;">Chicago</p:column>
                        <p:column rowspan="5" style="font-weight: bold;">4</p:column>
                    </p:row>

                    <p:row>
                        <p:column>New York</p:column>
                        <p:column >1</p:column>
                    </p:row>

                    <p:row>
                        <p:column colspan="4" styleClass="ui-widget-header">
                            <p:spacer height="0"/>
                        </p:column>
                    </p:row>

                    <p:row>
                        <p:column>Atlanta</p:column>
                        <p:column >1</p:column>

                        <p:column rowspan="2">Orlando</p:column>
                        <p:column rowspan="2">0</p:column>
                    </p:row>

                    <p:row>
                        <p:column style="font-weight: bold;">Orlando</p:column>
                        <p:column style="font-weight: bold;">4</p:column>
                    </p:row>


                 
                </p:panelGrid>
            </div>

            <div class="col-xs-12 col-md-6 col-lg-4">

                <p:dataTable id="modulosSelect" var="rmodu"  value="#{controlRoles.modulosSelect}" >
                    <f:facet name="header">
                        MODULOS DE  #{controlRoles.rolselect.nombre}  
                    </f:facet>
                    <p:column headerText="Rol">
                        <i class="fa #{rmodu.modulo.icono} "></i>  <h:outputText value="#{rmodu.modulo.nombre}" />
                    </p:column>
                    <p:column headerText="Modulo">
                        <h:outputText value="#{rmodu.rol.nombre}" />
                    </p:column>
                    <p:column headerText="Modulo">
                        <b:commandButton value="" 
                                         look="primary"   update=":form:modulosSelect" 
                                         size="sm"  tooltip-position="bottom" 
                                         >
                            <i class="fa fa-trash-o"></i>
                        </b:commandButton>
                    </p:column>

                </p:dataTable> 



            </div>










        </div>
        <p:messages autoUpdate="false"/>




        <script src="js/prueba.js"></script>





    </ui:composition>

</html>